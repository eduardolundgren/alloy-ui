AUI.add("aui-button-item",function(w){var i=w.Lang,r=i.isString,l=w.getClassName,k="buttonitem",F="boundingBox",b="button",u="contentBox",y=".",x="handler",d="icon",a="iconNode",m="id",G="label",c="labelNode",E="only",q="reset",D="state",I="submit",v="title",t="type",f=l(k),n=l(k,d),H=l(k,G),B=l(k,d,G),p=l(k,d,E),j=l(k,G,E),o=l(d),h=new RegExp(o+"-([a-zA-Z0-9-]+)"),z='<button type="{type}"></button>',g='<span class="'+[n,o].join(" ")+'"></span>',s='<span class="'+H+'"></span>';var e=w.Widget.ATTRS.type;w.Widget.ATTRS.type={validator:function(A){return(A===b||A===I||A===q);},value:b,writeOnce:true};var C=w.Component.create({NAME:k,AUGMENTS:[w.WidgetChild],ATTRS:{activeState:{value:false},classNames:{},defaultState:{},handler:{lazyAdd:false,value:null},hoverState:{},icon:{value:""},iconNode:{valueFn:function(){return w.Node.create(g);}},id:{valueFn:function(){return w.guid();}},label:{value:""},labelNode:{valueFn:function(){return w.Node.create(s);}},title:{setter:"_setTitle",value:false}},HTML_PARSER:{iconNode:function(A){return A.one(y+n);},labelNode:function(A){return A.one(y+H);},icon:function(L){var J=L.one(y+n);if(J){this.set(a,J);var A=J.attr("class");var K=A.match(h);return K&&K[1];}},label:function(J){var A=J.one(y+H);if(A){this.set(c,A);return A.text();}}},constructor:function(A){if(r(A)){A={icon:A};}C.superclass.constructor.call(this,A);},UI_ATTRS:[x,d,G,v,t],prototype:{BOUNDING_TEMPLATE:z,CONTENT_TEMPLATE:null,renderUI:function(){var A=this;A._renderStates();A._renderIconNode();A._renderLabelNode();},syncUI:function(){var A=this;var K=A.get("icon");var J=A.get("label");var L=A.get("title");if(K){A._uiSetIcon(K);}if(J){A._uiSetLabel(J);}if(L){A._uiSetTitle(L);}},_renderIconNode:function(){var A=this;A.get(u).append(A.get(a));},_renderLabelNode:function(){var A=this;A.get(u).append(A.get(c));},_getState:function(J,K){var A=this;var M=A.get(J);var L=M;if(K){M=K.get(J);if(!i.isUndefined(M)){L=M;}}return L;},_renderStates:function(M){var A=this;var L=A.get("parent");var K=A._getState("activeState",L);var O=A._getState("classNames",L);var J=A._getState("defaultState",L);var N=A._getState("hoverState",L);A.plug(w.Plugin.StateInteraction,{activeState:K,classNames:O,defaultState:J,hoverState:N});},_setBB:function(K){var A=this;var J=i.sub(A.BOUNDING_TEMPLATE,{type:A.get(t)});return A._setBox(A.get(m),K,J);},_setTitle:function(J){var A=this;if(J===null){J=A.get("label");}else{if(J===false){J="";}}return String(J);},_syncChildrenStates:function(){var A=this;var M=A.get("icon");var K=A.get("label");var N=(M&&K);var O=(!M&&K);var L=(M&&!K);var J=A.get(F);J.toggleClass(B,N);J.toggleClass(p,L);J.toggleClass(j,O);},_uiSetHandler:function(P){var R=this;var O=P;var Q=R.get("parent");var J=(Q&&Q._DEFAULT_CONTEXT)||R._DEFAULT_CONTEXT||R;var N="click";var M=R;var K;if(i.isObject(O)){var S=O;O=S.fn||O;J=S.context||J;N=S.type||N;K=S.args;}if(i.isFunction(O)){var L=R._interactionHandle;if(L){L.detach();}var A=w.rbind.apply(w,[O,J,M].concat(K||[]));R._interactionHandle=R.on(N,A);}},_uiSetIcon:function(L){var A=this;var J=A.get(a);var K="show";if(!L){K="hide";}L=l(d,L);J.replaceClass(A._iconPrevVal,L);J[K]();A._syncChildrenStates();A._iconPrevVal=L;},_uiSetLabel:function(L){var A=this;var J=A.get(c);var K="show";if(!L){K="hide";}J.text(L);J[K]();A._syncChildrenStates();},_uiSetTitle:function(K){var A=this;var J=A.get(F);J.setAttribute(v,K);},_uiSetType:function(K){var A=this;var J=A.get(F);J.setAttribute(t,K);}}});w.Widget.ATTRS.type=e;w.ButtonItem=C;},"@VERSION@",{skinnable:true,requires:["aui-base","aui-state-interaction","widget-child"]});