AUI.add("aui-toggler-base",function(o){var ad=o.Lang,J=ad.isBoolean,P=ad.isObject,t=ad.isUndefined,W=function(A){return parseInt(A,10)||0;},B="-",w=".",N="",F="px",a=" ",G="animated",S="animating",C="bindDOMEvents",T="click",p="collapsed",Q="content",U="cubic-bezier",E="down",b="enter",j="esc",c="expanded",k="expandedChange",i="getBoundingClientRect",R="gutter",L="header",V="helper",ac="keydown",x="left",h="linear",m="marginTop",l="minus",q="num_minus",y="num_plus",n="parentNode",v="plus",X="right",a="space",z="toggler",Z="transition",g="transitionEnd",e="transitionStart",u="up",aa="wrapper",f=o.getClassName,s=f(z,Q),ab=f(z,Q,p),M=f(z,Q,c),r=f(z,Q,aa),d=f(z,L),I=f(z,L,p),H=f(z,L,c),K={"false":ab,"true":M},D={"false":I,"true":H},O='<div class="'+r+'"></div>';var Y=o.Component.create({NAME:z,ATTRS:{animated:{validator:J,value:false,writeOnce:true},animating:{validator:J,value:false},bindDOMEvents:{validator:J,value:true,writeOnce:true},content:{setter:o.one},expanded:{validator:J,value:true},header:{setter:o.one},transition:{validator:P,value:{duration:0.4,easing:U}}},EXTENDS:o.Base,headerEventHandler:function(ae,A){if(ae.type===T||ae.isKey(b)||ae.isKey(a)){ae.preventDefault();return A.toggle();}else{if(ae.isKey(E)||ae.isKey(X)||ae.isKey(y)){ae.preventDefault();return A.expand();}else{if(ae.isKey(u)||ae.isKey(x)||ae.isKey(j)||ae.isKey(q)){ae.preventDefault();return A.collapse();}}}},prototype:{initializer:function(){var A=this;A.bindUI();A.syncUI();A._uiSetExpanded(A.get(c));},bindUI:function(){var A=this;var ae=A.get(L);ae.setData(z,A);A.on(k,o.bind(A._onExpandedChange,A));if(A.get(C)){ae.on([T,ac],o.rbind(Y.headerEventHandler,null,A));}},syncUI:function(){var A=this;A.get(Q).addClass(s);A.get(L).addClass(d);},animate:function(ae,af){var A=this;A._uiSetExpanded(true);var ag=o.merge(ae,A.get(Z));A.get(Q).transition(ag,o.bind(af,A));},collapse:function(){var A=this;return A.toggle(false);},expand:function(){var A=this;return A.toggle(true);},getContentHeight:function(){var ae=this;var ah=ae.get(Q);var ag=ae.get(c),A;if(!ag){ae._uiSetExpanded(true);}if(ah.hasMethod(i)){var af=ah.invoke(i);if(af){A=af.bottom-af.top;}}else{A=ah.get(OFFSET_HEIGHT);}if(!ag){ae._uiSetExpanded(false);}return A;},toggle:function(af){var ae=this;if(t(af)){af=!ae.get(c);}if(ae.get(G)){if(ae.get(S)){return af;}var ag=ae.get(Q);var A=ae.getContentHeight();var ah=W(ag.getStyle(m));if(!ae.wrapped){ag.wrap(O);if(af){ah=-(A+ah);ag.setStyle(m,ah);}ae.wrapped=true;}ae.set(S,true);ae.animate({marginTop:-(A+ah)+F},function(){ae.set(S,false);ae.set(c,af);});}else{ae.set(c,af);}return af;},_onExpandedChange:function(ae){var A=this;A._uiSetExpanded(ae.newVal);},_uiSetExpanded:function(ae){var A=this;A.get(Q).replaceClass(K[!ae],K[ae]);A.get(L).replaceClass(D[!ae],D[ae]);}}});o.Toggler=Y;},"@VERSION@",{skinnable:true,requires:["aui-base","transition"]});