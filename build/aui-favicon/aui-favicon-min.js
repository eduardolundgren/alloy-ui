AUI.add("aui-favicon",function(b){var d=b.Node,c=b.getClassName,e=b.one("document"),g="Favicon",f=c(g),a='<link class="'+f+'" rel="icon" type="image/png" href="image.png" />';TODAY=new Date();Favicon=b.Base.create("favicon",b.Widget,[],{initializer:function(){var h=this;},renderUI:function(){var i=this,m=i.get("value"),l=i.get("size"),h=i.get("position"),n=d.create("<img />").getDOM(),k=d.create('<link rel="icon" />'),o="",j="";context=i._getContext();canvas=i.canvas.getDOM();o=(m)?m:i.get("defaultValue");canvas.height=l;canvas.width=l;n.onload=function(){context.drawImage(this,0,0);j=(i.get("useStrongText"))?"bold "+i.get("font"):i.get("font");context.font=j;context.fillStyle=i.get("textColor");context.fillText(o,h.x,h.y);k.setAttrs({"href":canvas.toDataURL("image/png")});k.addClass(c(g));i._removeExistingFavicon();e.one("head").append(k);};n.src=i.get("image");},_removeExistingFavicon:function(){var h=this,i=b.one('link[rel="icon"]');if(i){i.destroy();}},_getContext:function(){var h=this;if(!h.canvas){h._createCanvas();}return h.canvas.getDOM().getContext("2d");},_createCanvas:function(){var h=this;h.canvas=d.create("<canvas />");}},{ATTRS:{size:{value:16},image:{value:"../../build/aui-favicon/assets/favicon.png"},value:{value:false},defaultValue:{readOnly:true,value:5},textColor:{value:"#FFFFFF"},font:{value:'9px "Helvetica", sans-serif'},useStrongText:{value:true},position:{value:{x:2,y:10}}}});b.Favicon=Favicon;},"@VERSION@",{skinnable:false,requires:["aui-base","widget"]});