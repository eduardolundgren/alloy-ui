AUI.add("aui-datepicker-base",function(e){var h=e.Lang,d=h.isBoolean,b=h.isFunction,j=h.isArray,a=h.isString,i=e.DataType,c=e.Array,q="calendar",o="contentBox",n="currentNode",m="date-picker",f="formatter",l="locale",g="selectionMode",p="setValue";var k=e.Component.create({NAME:m,ATTRS:{calendar:{setter:"_setCalendar",value:{}},dateFormat:{value:"%m/%d/%Y",validator:a},formatter:{value:function(t){var r=this,s=[];if(j(t)){c.each(t,function(v,u){s[u]=r.formatDate(v);});return s.join(",");}else{return r.formatDate(t);}},validator:b},setValue:{value:true,validator:d},stack:{lazyAdd:false,value:true,setter:"_setStack",validator:d},showOn:{value:"mousedown"},hideOn:{value:"mousedown"}},EXTENDS:e.OverlayContext,prototype:{initializer:function(){var r=this;r.calendar=new e.Calendar(r.get(q));},formatDate:function(t){var s=this,r=s.get(l);return i.Date.format(t,{format:s.get("dateFormat"),locale:r});},bindUI:function(){var r=this;k.superclass.bindUI.apply(this,arguments);r.on("show",r._onShowOverlay);r.after("calendar:dateClick",r._afterSelectDate);if(r.get(p)){r._setTriggerValue(r.formatDate(r.calendar.get("date")));}},destructor:function(){var r=this;r.calendar.destroy();},_afterSelectDate:function(s){var r=this;if(r.calendar.get(g)!="multiple"){r.hide();}if(r.get(p)){r._setTriggerValue(r.calendar.get("selectedDates"));}},_onShowOverlay:function(s){var r=this;r._renderCalendar();},_renderCalendar:function(){var r=this;r.calendar.render(r.get(o));},_setCalendar:function(s){var r=this;e.mix(s,{bubbleTargets:r});return s;},_setStack:function(s){var r=this;if(s){e.DatepickerManager.register(r);}else{e.DatepickerManager.remove(r);}return s;},_setTriggerValue:function(s){var r=this;var t=r.get(f).apply(r,[s]);r.get(n).val(t);}}});e.DatePicker=k;e.DatepickerManager=new e.OverlayManager({zIndexBase:1000});},"@VERSION@",{skinnable:true,requires:["aui-datatype","calendar","aui-overlay-context"]});